<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Splash Screen</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/5.1.3/css/bootstrap.min.css" rel="stylesheet">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="./pictures/logo2.png">
   
<link rel="apple-touch-icon" sizes="180x180" href="./pictures/logo2_padded_180x180.png">
<link rel="apple-touch-icon" sizes="167x167" href="./pictures/logo2_padded_167x167.png">
<link rel="apple-touch-icon" sizes="152x152" href="./pictures/logo2_padded_152x152.png">
<link rel="apple-touch-icon" sizes="120x120" href="./pictures/logo2_padded_120x120.png">
<link rel="apple-touch-icon" sizes="76x76" href="./pictures/logo2_padded_76x76.png">
<link rel="icon" href="./pictures/logo.png" type="image/png" sizes="10x30">
    <!-- Custom CSS -->
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            font-family: Arial, sans-serif;
        }

        .splash-screen {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            height: 85vh; /* Use 100vh for full viewport height */
            background-color: #ffffff; /* Set background color for the splash screen */
        }

        .logo {
            max-width: 200px; /* Adjust the size of the logo */
            animation: fadeIn 2s ease-in-out forwards; /* Animation for fading in the logo */
        }

        .loader {
            border: 4px solid #f3f3f3; /* Light grey */
            border-top: 4px solid #3498db; /* Blue */
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 2s linear infinite; /* Animation for spinning loader */
            margin-top: 20px;
        }

        .main-content {
            padding: 20px;
            text-align: center;
        }

        /* Keyframes for fadeIn animation */
        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        /* Keyframes for spinning loader animation */
        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }
       
          
          .container {
            text-align: center;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;

          }
          
          .container span {
            text-transform: uppercase;
            display: block; 
          }
          
          .text1 {
        
            color: white;
            font-size: 30px;
            font-weight: 700;
            letter-spacing: 8px;
            background-color: #ffffff;
            position: relative;
          /*   shorthand animation property: name | duration | iteration count */
          /*   animation: text 4s 1; */
            animation-name: text;
            animation-duration:5s;
            animation-iteration-count: infinite;
          }
          
          .text2 {
            margin-top: 5px;
            font-size: 15px;
            color: #FFE997;
          }
          
          @keyframes text {
            0% {
              color: black;
              margin-bottom: -40px;
            }
            30% {
              letter-spacing: 25px;
              margin-bottom: -40px;
            }
            85% {
              letter-spacing: 8px;
              margin-bottom: -40px;
            }
            100% {
              margin-bottom: 20px;
            }
          }

      
       
        .car-road{
            margin-top: 20px;
            width:110px;
            overflow:hidden;
          }
          .car{
            width: 110px;
            position:relative;
          }
          
          @-webkit-keyframes rotateWheel {
            from {transform: rotate(0deg);}
            to {transform: rotate(360deg);}
          }
          
          /* Standard syntax */
           @keyframes rotateWheel {
            from {transform: rotate(0deg);}
            to {transform: rotate(360deg);}
          } 
          
          .car-base{
            background: #001aff;
              width: 100%;
              height: 22px;
             border-radius: 2px 5px 10px 10px;
          }
          .car-top{
              height: 36px;
              width: 66px;
              background: #001aff;
              margin-bottom: -18px;
              border-radius: 100px / 60px;
              margin-left: 15px;
             position:relative;
          }
          
          .car-top::before{
              width: 0;
              height: 0;
              border-top: 18px solid transparent;
              border-bottom: 12px solid transparent;
              border-right: 43px solid #001aff;
              position: absolute;
              left: -10px;
              content: '';
          }
          
          .car-top::after{
              position: absolute;
              right: -29px;
              content: '';
              top: 14px;
              border-radius: 50% 50% 0 0;
              width: 60px;
              height: 8px;
              background: #001aff;
          }
          
          .window{
              position: absolute;
              background: white;
              width: 42px;
              height: 11px;
              top: 3px;
              border-radius: 50% 50% 0 0;
              left: 12px;
          }
          
          .window::before{
            content: '';
            position: absolute;
            left: 20px;
            background: #001aff;
            height: 100%;
            width: 5px; 
          }
          
          .wheel{
              width: 22px;
              height: 22px;
              border-radius: 50%;
              background: #4a4a4a;
              position: absolute;
              border: 2px solid white;
              -webkit-animation: rotateWheel 0.7s infinite linear;
              animation: rotateWheel 0.7s infinite linear;
          
          }
          
          .wheel::before{
            content:'';
            width: 14px;
            height: 14px;
            top:4px;
            left:4px;
            border-radius: 50%;
            background: white;
            position: absolute;
          
          }
          
          .wheel:after{
            content: '';
              position: absolute;
              top: 4px;
              bottom: 4px;
              width: 3px;
              left: 50%;
              transform: translateX(-50%);
              background: #4a4a4a;
          }
          
          .wheel-left{
             left: 12px;
            bottom: -10px;
          }
          
          .wheel-right{
             right: 12px;
            bottom: -10px;
          }
          .wheel-spike{
            position: absolute;
            top: 50%;
            bottom: 4px;
            width: calc(100% - 8px);
            left: 4px;
            height: 3px;
            transform: translateY(-50%);
            background: #4a4a4a;
          }
          .wheel-center{
            position: absolute;
            top: 50%;
            left:50%;
            width: 5px;
             height: 5px;
              border-radius: 50%;
            background:white;
            z-index: 2;
              transform: translate(-50%, -50%);
          }
          
          .head-light{
            position: absolute;
            background: #e2dfcb;
            right: 1px;
            top: 19px;
            border-radius: 50% 15px 15px 50%;
            width: 10px;
            height: 4px;
          }
          
          .road{
            position:relative;
              width: 100%;
              margin-top: 8px;
            animation: border-dance 0.5s infinite linear;
             height:3px;
               background-image: linear-gradient(to left, #ccc 0%, #ccc 20%, #fff 20%, #fff 40%, #ccc 40%, #ccc 60%, #fff 60%, #fff 80%, #ccc 80%);
          }
          
          @keyframes border-dance {
            0% {
              left: 40px;
            }
            
            100% {
              left: 0px;
            }
          
          }
          
          
    </style>
</head>
<body>
    <div class="splash-screen" >
        <img src="./pictures/logo_Station.png" alt="Logo" class="logo">
        <!-- <div class="loader"></div> Animated loader -->
        <div class="car-road">
            <div class="car">
              <div class="car-top">
                <div class="window">
                </div>  
              </div>  
              <div class="car-base">
              </div>
              <div class="wheel-left wheel">
                 <div class="wheel-spike">
                 </div> 
                 <div class="wheel-center">
                 </div>
              </div>
              <div class="wheel-right wheel">
                 <div class="wheel-spike">
                 </div> 
                <div class="wheel-center">
                 </div>
              </div>
              <div class="head-light"></div>
            </div> 
            <div class="road">
            </div>
          </div> 
    </div>

    
    <div class="container"style="margin-top: 80px;">
        <span class="text1">Finding</span>
        <span class="text2">Found</span>
   </div>
 

    <!-- Bootstrap 5 JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>
	<script>
		function detectDevice() {
			const userAgent = navigator.userAgent || navigator.vendor || window.opera;
			const isMobile = /android|webos|iphone|ipod|blackberry|iemobile|opera mini/i.test(userAgent.toLowerCase());
			const isTablet = /(ipad|tablet|playbook|silk)|(android(?!.*mobile))/i.test(userAgent.toLowerCase());
			const hash = window.location.hash.toLowerCase();
			
			// Base paths for different device types
			const mobilePaths = {
				default: 'mapViewPhone.html',
				fleet: 'mapView_fleet.html',
				ev: 'mapView_EV.html'
			};
			
			const desktopPaths = {
				default: 'mapViewerPC.html',
				fleet: 'mapViewerPC_fleet.html',
				ev: 'mapViewerPC_EV.html',
        admin_fleet: 'map_fleet.html',
        admin:'map.html'
			};
			
			
			// Determine which path set to use
			let pathSet;
			if (isMobile && !isTablet) {
				pathSet = mobilePaths;
			} else if (isTablet) {
				pathSet = tabletPaths;
			} else {
				pathSet = desktopPaths;
			}
			
			// Determine the specific page to redirect to
			let redirectPath;
			switch(hash) {
				case '#fleet':
					redirectPath = pathSet.fleet;
					break;
				case '#ev':
					redirectPath = pathSet.ev;
					break;
        case '#admin_fleet':
          redirectPath = pathSet.admin_fleet;
          break;
        case '#admin':
          redirectPath = pathSet.admin;
          break;
				default:
					redirectPath = pathSet.default;
			}
			
			// Perform the redirect
			window.location.href = redirectPath;
		}
		
		// Enhanced timeout with loading indicator option
		document.addEventListener('DOMContentLoaded', function() {
			// Optionally show a loading message or spinner here
			setTimeout(detectDevice, 1500); // Reduced to 1.5s for better UX
		});
	</script>
</body>
</html>